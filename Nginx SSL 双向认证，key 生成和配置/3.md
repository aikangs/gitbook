# 服务器证书的生成

> * 创建一个 key

```bash
openssl genrsa -out server/server.key 2048
```

> * 为我们的 key 创建一个证书签名请求 csr 文件

```bash
openssl req -new -key server/server.key -out server/server.csr
```

> * 使用我们私有的 CA key 为刚才的 key 签名

```bash
openssl ca -in server/server.csr -cert private/ca.crt -keyfile private/ca.key -out server/server.crt -config "./conf/openssl.conf"
# 输出
Using configuration from ./conf/openssl.conf
Check that the request matches the signature
Signature ok
The Subject's Distinguished Name is as follows
countryName           :PRINTABLE:'CN'
stateOrProvinceName   :ASN.1 12:'GuangDong'
localityName          :ASN.1 12:'GuangZhou'
organizationName      :ASN.1 12:'le****'
organizationalUnitName:ASN.1 12:'dev'
commonName            :ASN.1 12:'le***'
emailAddress          :IA5STRING:'****@gmail.com'
Certificate is to be certified until Mar 19 07:37:02 2017 GMT (365 days)
Sign the certificate? [y/n]:y

1 out of 1 certificate requests certified, commit? [y/n]y
Write out database with 1 new entries
Data Base Updated
注：签名信息每次必须输入一致
```
